import { useState } from 'react';
import List from '../../components/List/List';
import Search from '../../components/SearchLayout/Search/Search';
import CategoriesLayout from '../../components/CategoriesLayout/CategoriesLayout';
import useFetch from '../../useFetch';


function Home() {
  const [cityFilter, setCityFilter] = useState()
  const [categoryFilter, setCategoryFilter] = useState()

  const getCity = (data) => {
    setCityFilter(`?city=${data}`)
    console.log(data)
  }

  const getCategory = (data) => {
    setCategoryFilter(`?category=${data}`)
    console.log(data)
  }

  const { data: cars,
    errorCar } =
    useFetch(`http://grupo2backend-env.eba-ssmahfch.us-east-2.elasticbeanstalk.com/car${cityFilter||categoryFilter||""}`)

  const { data: categories,
    errorCategory } =
    useFetch('http://grupo2backend-env.eba-ssmahfch.us-east-2.elasticbeanstalk.com/categories')

  if (errorCar)
    console.log("errorCar: ",errorCar)
  else if (errorCategory)
    console.log("errorCategory: ", errorCategory)
  
  return (
    <>
      <Search getCity={getCity}></Search>
      {categories && <CategoriesLayout getCategory={getCategory} categories={categories} />}
      {cars && <List data={cars }>Listado</List>}
      {/* 
      <h1>h1</h1>
      <h2>h2</h2>
      <h3>h3</h3>
      <h4>h4</h4>
      <p>Text 1</p>
      <p className="small-text">Text 2</p>
      <button>Button 1</button>
      <button className="btn-medium">Button 2</button>
      <button className="btn-large">Button 3</button>
      <button className="btn-xl">Button 4</button>
      <button className="btn-outlined">Button 4</button>
      <button className="btn-outlined btn-small">Button 5</button>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc hendrerit
        aliquet nunc a viverra. Vestibulum fermentum arcu sed fringilla viverra.
        Donec ornare nibh eget justo porta fringilla. Donec vestibulum lacus
        ante, sed venenatis enim convallis laoreet. Nulla elementum purus et
        convallis ornare. Integer congue risus sit amet ex scelerisque, ut
        mollis ante iaculis. Nam convallis sem ligula, at efficitur neque
        tristique et. Proin arcu tellus, consectetur eu nisi ut, aliquam
        faucibus nibh. Vivamus vestibulum vestibulum condimentum. Sed eu
        elementum risus. Pellentesque ut est leo. Suspendisse in vestibulum
        lorem. Duis lobortis gravida felis, vel gravida eros malesuada non.
        Nulla quis lacus vitae lacus consequat gravida. Quisque arcu sapien,
        scelerisque eget tortor quis, suscipit viverra ligula. Praesent vitae
        velit congue sem faucibus blandit. Donec massa dui, varius vitae risus
        sit amet, congue lobortis felis. Morbi libero augue, varius eget lectus
        sed, interdum fermentum quam. Sed sollicitudin varius sem, vel fermentum
        arcu luctus at. Cras porta semper interdum. Suspendisse ultricies diam
        vulputate turpis ultricies venenatis. Cras quis rutrum odio. Phasellus
        efficitur turpis nec massa semper varius. Donec a augue ultricies,
        hendrerit ligula vel, imperdiet augue. Aenean mauris nunc, rhoncus id
        sodales eget, rhoncus ut turpis. Aliquam luctus vestibulum sem at
        mattis.
      </p> */}
    </>
  );
}

export default Home;
